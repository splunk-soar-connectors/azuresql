<!-- File: readme.html
  Copyright (c) 2019-2022 Splunk Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
either express or implied. See the License for the specific language governing permissions
and limitations under the License.
-->

<h2>Establishing a Connection to your Azure SQL Server</h2>

Prior to configuring your Azure SQL asset, you must install the <b>ODBC driver</b> on your Phantom instance.
This can be done by running the following commands on your instance under a user with root privileges:
<ul>
  <li>ODBC Driver 17 Installation</li>
  <ul>
    <li>sudo su</li>
    <li>If using Centos7/RedHat7: curl https://packages.microsoft.com/config/rhel/7/prod.repo &gt; /etc/yum.repos.d/mssql-release.repo</li>
    <li>If using Centos6/RedHat6: curl https://packages.microsoft.com/config/rhel/6/prod.repo &gt; /etc/yum.repos.d/mssql-release.repo</li>
    <li>If using a different OS, check <a href="https://docs.microsoft.com/en-us/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-2017">here</a></li>
    <li>exit</li>
    <li>sudo yum install msodbcsql17</li>
  </ul>
</ul>

After installing the Microsoft Azure SQL app and ODBC driver, you have two options to configure your asset:
<ul>
  <li>Fill out every asset field except for the Custom Connection String box</li>
  <li>Use a Custom Connection String. Example format:
    <ul>
      <li>Driver={ODBC Driver 17 for SQL Server};Server=tcp:test-server.database.windows.net;Database=sampledb;Uid=username;Pwd=password;Encrypt=no;TrustServerCertificate=yes;Trusted_Connection=yes;Connection Timeout=30;</li>
    </ul>
  </li>
</ul>

<p>
    <h2>MIT</h2>
    This app uses the pyodbc module, which is licensed under the MIT License, Copyright (c) 2019, The Python ODBC Team.
</p>
